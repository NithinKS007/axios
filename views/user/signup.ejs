<%- include('../layouts/adminLayouts/header') %>

<!-- used adminlayouts in the registration page for the user its done purposefully because its assets are in that folder so dont change -->
<main>
    <style>
        .content-main {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5px 0;
        }
        .card-login {
            width: 100%;
            max-width: 400px;
        }
        .form-control {
            margin-bottom: 10px;
        }
        .error {
            font-size: 0.8em;
            color: red;
        }
        .small-text {
            font-size: 0.8em;
            line-height: 1.2;
        }
        
    </style>
    
    <section class="content-main">
        <div class="card card-login">
            <div class="card-body">
                <h4 class="card-title mb-3 text-center">Create an Account</h4>
                <form method="post" id="formData" action="/signup">
                    <input class="form-control" id="fname" name="fname" placeholder="First Name" type="text">
                    <span id="fnameError" class="error"></span>
    
                    <input class="form-control" id="lname" name="lname" placeholder="Last Name" type="text">
                    <span id="lnameError" class="error"></span>
    
                    <input class="form-control" id="email" name="email" placeholder="Email" type="text">
                    <span id="emailError" class="error"></span>
    
                    <input class="form-control" id="phone" name="phone" placeholder="Mobile" type="text">
                    <span id="phoneError" class="error"></span>
    
                    <div class="input-group">
                        <input class="form-control" id="password" name="password" type="password" placeholder="Password">
                       
                      </div>
                      <span id="passwordError" class="error"></span>
                    <input class="form-control" id="cPassword" name="cPassword" type="confirm password" placeholder="Confirm Password">
                    <span id="cPasswordError" class="error"></span>
    
                    <p class="small-text text-center text-muted mb-3">By signing up, you confirm that you've read and accepted our User Notice and Privacy Policy.</p>
    
                    <button type="submit" class="btn btn-primary w-100 mb-3">Sign Up</button>
                </form>
    
                <p class="text-center small-text">Already have an account? <a href="/signin">Sign in now</a><br><a href="/">or Go to Home</a></p>
            </div>
        </div>
    </section>
</main>

<!-- used adminlayouts in the registration page for the user its done purposefully because its assets are in that folder so dont change -->

<script>

//first name validation
let isFirstNameValid = false;
const fnameInput = document.getElementById('fname');
const fnameError = document.getElementById('fnameError');

const validateFirstName = () =>{
    if (fnameInput.value.trim() === '') {
        fnameError.textContent = '* First Name is required';
        isFirstNameValid = false;
    } else {
        fnameError.textContent = '';
        isFirstNameValid = true;
    }
}
fnameInput.addEventListener('input', validateFirstName);

//last name validaton
let isLastNameValid = false;
const lnameInput = document.getElementById('lname');
const lnameError = document.getElementById('lnameError');

const validateLastName = () =>{
    if (lnameInput.value.trim() === '') {
        lnameError.textContent = '* Last Name is required';
        isLastNameValid = false;
    } else {
        lnameError.textContent = '';
        isLastNameValid = true;
    }
}

lnameInput.addEventListener('input', validateLastName);


//email validaton
let isEmailValid = false;
const emailInput = document.getElementById('email');
const emailError = document.getElementById('emailError');

const validateEmail = () =>{

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (emailInput.value.trim() === '') {
        emailError.textContent = '* Email is required';
        isEmailValid = false;
    }else if( !emailRegex.test(emailInput.value.trim()) ){

        emailError.textContent = '* Enter a valid email';
        isEmailValid = false;

    }else {
        emailError.textContent = '';
        isEmailValid = true;
    }
}

emailInput.addEventListener('input', validateEmail);

//mobile validaton
let isPhoneValid = false;
const phoneInput = document.getElementById('phone');
const phoneError = document.getElementById('phoneError');

const validatePhone = () =>{

    const phoneRegex =  /^\d{10}$/; 

    if (phoneInput.value.trim() === '') {
        phoneError.textContent = '* Phone Number is required';
        isPhoneValid = false;
    }else if( !phoneRegex.test(phoneInput.value.trim())){

        phoneError.textContent = '* Enter a valid Phone Number';
        isPhoneValid = false;

    }else {
        phoneError.textContent = '';
        isPhoneValid = true;
    }
}

phoneInput.addEventListener('input', validatePhone);



//password validaton
let isPasswordValid = false;
const passwordInput = document.getElementById('password');
const passwordError = document.getElementById('passwordError');

const validatePassword = () =>{

    if (passwordInput.value.trim() === '') {
        passwordError.textContent = '* Password is required';
        isPasswordValid = false;
    }else if(passwordInput.value.trim().length < 4){

        passwordError.textContent = '* Password should be atleast 4 charactors';
        isPasswordValid = false;

    }else {
        passwordError.textContent = '';
        isPasswordValid = true;
    }
}

passwordInput.addEventListener('input', validatePassword);



//Confirm password validaton
let isCPasswordValid = false;
const cPasswordInput = document.getElementById('cPassword');
const cPasswordError = document.getElementById('cPasswordError');

const validateConfirmPassword = () =>{

    if (
        cPasswordInput.value.trim() === '') {
        cPasswordError.textContent = '* Confirm Password is required';
        isCPasswordValid = false;
    }else if(cPasswordInput.value.trim().length < 4){

        cPasswordError.textContent = '* Confirm Password should be atleast 4 charactors';
        isCPasswordValid = false;

    }else {
        cPasswordError.textContent = '';
        isCPasswordValid = true;
    }
}

cPasswordInput.addEventListener('input', validateConfirmPassword);


document.addEventListener('DOMContentLoaded', () => {

    const form = document.getElementById('formData');

    form.addEventListener('submit', (event) => {

        validateFirstName()
        validateLastName()
        validateEmail()
        validatePhone()
        validatePassword()
        validateConfirmPassword()
        
        if (!isFirstNameValid&&!isLastNameValid&&!isEmailValid&&!isPhoneValid&&!isPasswordValid&&!isCPasswordValid) {

            event.preventDefault();

        }
    });
});

</script>


<%- include('../layouts/adminLayouts/footer') %>